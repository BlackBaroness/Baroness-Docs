---
sidebar_position: 3
title: Бэкапы
---

:::tip Подсказка
Эта статья про автоматические бэкапы.
Если вам нужны ручные, вам [сюда](../adminCommands/backup.md).
:::

Бэкапы - резервные копии базы данных, которые нужны для экстренных случаев. BaronessAuth умеет создавать бэкапы как вручную, так и автоматически.

```yaml title="data/backup.yml"
#  Включены ли автоматические бэкапы?
enabled: true

# Таймер в секундах.
timer: 3600
```

Автоматические бэкапы работают полностью асинхронно. Перезагрузка плагина выключит или перезапустит таймер.

Копия создаётся в папке `/BaronessAuth/backup/[БД]/`. 

Для каждой копии свой файл, который основан на вашем форматировании даты (берётся дата начала бэкапа).
Имейте в виду, что имя файла может состоять только из чисел и `-`. Все остальные символы будут автоматически заменены на `-`.
Если файл уже существует, к нему будет добавлен префикс `_[номер]`. 

### Применение резервных копий

#### SQL Базы данных

Файл бэкапа содержит INSERT запросы, нужные для воссоздания всех данных.

Вам достаточно воспользоваться инструментом разработчика, введя `/auth developer --execute_sql_file=plugins/BaronessAuth/backup/[база данных]/[файл]`.

В чате будут выводиться исполняемые запросы. Дождитесь надписи "finished". Бэкап применён.