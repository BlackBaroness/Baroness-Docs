---
sidebar_position: 4
title: Статистика (stats)
---

```mdx-code-block
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
```

Позволяет получать различную статистику. 
Кроме того, через эту команду можно узнать страну и город IP-адреса, даже если с него никто не зарегистрирован.

### Режимы работы

- Общая статистика (total),
- Статистика конкретного игрока (nick),
- Статистика конкретного IP-адреса (ip).

### Доступные данные

```mdx-code-block
<Tabs
defaultValue="total"
values={[
{label: "Общая", value: "total"},
{label: "Об игроке", value: "nick"},
{label: "Об IP", value: "ip"},
]}>

<TabItem value="total">
```
- Количество игроков онлайн;
- Количество регистраций за сегодня;
- Количество регистраций за этот месяц;
- Количество регистраций за всё время;
- Количество авторизаций за сегодня;
- Количество авторизаций за этот месяц;
```mdx-code-block
</TabItem>

<TabItem value="nick">
```
- "Родной" ник игрока;
- Дата регистрации;
- Дата последней авторизации;
- IP регистрации (+ город и страна);
- IP последней авторизации (+ город и страна);
- Статус (онлайн ли);
- "Родной" UUID;
```mdx-code-block
</TabItem>

<TabItem value="ip">
```
- Город и страна.
- Все регистрации.
- Все последние авторизации.
```mdx-code-block
</TabItem>
</Tabs>
```

### Настройка

```yaml title="adminCommands/stats.yml"
# Включена ли субкоманда?
enabled: true

# Право для субкоманды.
permission: 'baronessauth.admin'

# Описание субкоманды.
description: '[total/nick/ip] - статистика'

# Сообщения при вводе stats total.
# {online} - игроки онлайн.
# {login_today} - количество авторизаций за сегодня.
# {login_mount} - количество авторизаций за месяц.
# {reg_today} - количество регистраций за сегодня.
# {reg_mount} - количество регистраций за месяц.
# {reg_total} - количество регистраций за всё время.
total:
  - 'Сейчас онлайн: §6{online}'
  - 'Входов за сегодня: §6{login_today}'
  - 'Входов за месяц: §6{login_mount}'
  - 'Зарегистрировано за сегодня: §6{reg_today}'
  - 'Зарегистрировано за месяц: §6{reg_mount}'
  - 'Зарегистрировано за всё время: §6{reg_total}'
  
nick:
  # Подсказка об использовании stats nick [ник].
  usage: 'Использование: §6/auth stats nick [ник]'
  
  # Сообщение о том, что игрок с таким ником не зарегистрирован.
  error: '§cИгрок не найден.'
  
  # Статус "онлайн".
  online: '§aОнлайн'
  
  # Статус "оффлайн".
  offline: '§cНе в сети'
  
  # Сообщения при вводе stats nick.
  # {nick} - "родной" ник игрока.
  # {reg_date} - дата регистрации.
  # {last_date} - дата последней авторизации.
  # {reg_ip} - IP регистрации.
  # {reg_ip_country} - Страна регистрации.
  # {reg_ip_city} - Город регистрации.
  # {last_ip} - IP последней авторизации.
  # {last_ip_country} - Страна последней авторизации.
  # {last_ip_city} - Город последней авторизации.
  # {uuid} - "родной" UUID игрока.
  # {status} - статус (онлайн или оффлайн).
  messages:
    - '§6>>> Информация об игроке §f{nick}§6 <<<'
    - 'Дата регистрации: §6{reg_date}'
    - 'Дата последнего входа: §6{last_date}'
    - 'Зарегистрирован с IP: §6{reg_ip}§f (§6{reg_ip_country}§f, §6{reg_ip_city}§f)'
    - 'Последний IP: §6{last_ip}§f (§6{last_ip_country}§f, §6{last_ip_city}§f)'
    - 'UUID: §6{uuid}'
    - 'Статус: §6{status}'
    
ip:
  # Подсказка об использовании stats ip [ip].
  usage: 'Использование: §6/auth stats ip [ip]'
  
  # Информация о местоположении IP.
  # {country} - страна.
  # {city} - город.
  geolocation: 'Местоположение: §6{country}§f, §6{city}§f'
  
  register:
    # Сообщение при отсутствии регистраций.
    empty: '§cРегистраций с этого IP не найдено.'
    
    # Заголовок списка регистраций, {count} - количество.
    header: 'Найдено §6{count}§f регистраций с этого IP:'
    
  login:
    # Сообщение при отсутствии авторизации.
    empty: '§cПоследних авторизаций с этого IP не найдено.'
    
    # Заголовок списка авторизаций, {count} - количество.
    header: 'Найдено §6{count}§f последних авторизаций с этого IP:'
    
  # Выводить ли списки?
  listEnabled: true
  
  # Формат списков, {nick} - ник игрока.
  listFormat: '> {nick}'
```